@inject ComponentEventBus bus

<td class="catalog-row__cell--id">
    @Item.Id
</td>

<td>
    <input @bind-value="name" />
</td>

<td>
    <input @bind-value="description" />
</td>

<td>

    <div class="catalog-item__options-wrapper">

        <button class="catalog-item-options__button catalog-item-options__button--active" @onclick="ConfirmEdit" title="Save changes">
            <span class="oi oi-check"></span>
        </button>
        <button class="catalog-item-options__button" @onclick="CancelEdit" title="Cancel">
            <span class="oi oi-x"></span>
        </button>

    </div>

</td>

@code {
    [Parameter] public CatalogModel Item { get; set; }

    string name;
    string description;

    protected override void OnParametersSet()
    {
        name = Item.Name;
        description = Item.Description;
    }

    async Task ConfirmEdit()
    {
        Item.Name = name;
        Item.Description = description;

        await bus.Publish(new CatalogItemEndEditEvent(Item.Id, false));
    }
    async Task CancelEdit() => await bus.Publish(new CatalogItemEndEditEvent(Item.Id, true));

}
